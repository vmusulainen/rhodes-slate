
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Rhodes API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;ruby&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#rhomobile-api-summary" class="toc-h1 toc-link" data-title="rhomobile-api-summary">RhoMobile API Summary</a>
          </li>
          <li>
            <a href="#rho-application" class="toc-h1 toc-link" data-title="rho-application">Rho.Application</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#appbundlefolder" class="toc-h2 toc-link" data-title="appbundlefolder">appBundleFolder</a>
                  </li>
                  <li>
                    <a href="#appsbundlefolder" class="toc-h2 toc-link" data-title="appsbundlefolder">appsBundleFolder</a>
                  </li>
                  <li>
                    <a href="#bundlefolder" class="toc-h2 toc-link" data-title="bundlefolder">bundleFolder</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rho-barcode" class="toc-h1 toc-link" data-title="rho-barcode">Rho.Barcode</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#enabling-the-api" class="toc-h2 toc-link" data-title="enabling-the-api">Enabling the API</a>
                  </li>
                  <li>
                    <a href="#enumerate" class="toc-h2 toc-link" data-title="enumerate">enumerate</a>
                  </li>
                  <li>
                    <a href="#take" class="toc-h2 toc-link" data-title="take">take</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='rhomobile-api-summary'>RhoMobile API Summary</h1>
<p>Below is a list of the new common APIs for RhoMobile Suite 6.0, which are recommended for all new projects. If youâ€™re moving a 2.x app to 6.x, please consult the 2.x migration guide.</p>
<h1 id='rho-application'>Rho.Application</h1><h2 id='appbundlefolder'>appBundleFolder</h2>
<p>{<code>javascript</code>, <code>ruby</code>} , {<code>android</code>, <code>ios</code>, <code>windows</code>}</p>
<pre class="highlight ruby tab-ruby"><code><span class="n">folder</span> <span class="o">=</span> <span class="no">Rho</span><span class="o">::</span><span class="no">Application</span><span class="p">.</span><span class="nf">appBundleFolder</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">folder</span> <span class="o">=</span> <span class="nx">Rho</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">appBundleFolder</span>
</code></pre>
<p>Path to apps/app folder inside the application bundle.</p>

<p><strong>Parameters</strong></p>

<p>No Parameters</p>
<h2 id='appsbundlefolder'>appsBundleFolder</h2><pre class="highlight ruby tab-ruby"><code><span class="n">folder</span> <span class="o">=</span> <span class="no">Rho</span><span class="o">::</span><span class="no">Application</span><span class="p">.</span><span class="nf">appsBundleFolder</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">folder</span> <span class="o">=</span> <span class="nx">Rho</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">appsBundleFolder</span>
</code></pre>
<p>Path to apps folder inside the application bundle.</p>

<p><strong>Parameters</strong></p>

<p>No Parameters</p>
<h2 id='bundlefolder'>bundleFolder</h2><pre class="highlight ruby tab-ruby"><code><span class="n">folder</span> <span class="o">=</span> <span class="no">Rho</span><span class="o">::</span><span class="no">Application</span><span class="p">.</span><span class="nf">bundleFolder</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">folder</span> <span class="o">=</span> <span class="nx">Rho</span><span class="p">.</span><span class="nx">Application</span><span class="p">.</span><span class="nx">bundleFolder</span>
</code></pre>
<p>Path to application bundle folder.</p>

<p><strong>Parameters</strong></p>

<p>No Parameters</p>
<h1 id='rho-barcode'>Rho.Barcode</h1>
<p>The Barcode Module provides access to control the functionality of the device&#39;s scanner. Because RhoMobile Suite is designed to run on both Consumer devices and Symbol Technologies&#39; enterprise devices support for the Barcode API will vary for each method and properties depending on which platform you are running on. Please note that a lot these APIs are optimized for the extended functionality that Symbol Technologies devices provide. Check the platform indicators in each property or method section. In general if you are developing for a consumer device the number of symbologies available to you will be limited to just the most common ones, eg EAN13, UPCA etc and your scanning will be via the device camera. If your application is running on Symbol Technologies&#39; hardware you will have much finer control over a more fully featured Scanner, often with a choice of scanner hardware on the device. In general if you wish to capture a single barcode in a &#39;one shot&#39; use case, eg your App just wants to capture a single barcode to be submitted to a price comparison website then use Barcode.take(callback); if your application is expecting a number of barcodes to be received, common in enterprise scenarios for example a user in a warehouse then use Barcode.enable(callback). The Barcode API will not run on non-Symbol Technologies Windows Mobile / CE devices.Only the foreground application is given access to the scanning hardware, when an application is sent to the background its state will be saved and it will automatically relinquish control of the scanner. When brought back to the foreground, an application previously using the barcode API will have its previous configuration reapplied automatically.In VC70 scanner will work only if connected in SSI Mode. In  Symbol android devices, it is recommended to use EMDK for KitKat devices and not to use EMDK in JellyBean devices.</p>
<h2 id='enabling-the-api'>Enabling the API</h2>
<p>In order to use this API you must include the following extension in your <code>build.yml</code></p>

<p><code>
extensions: [&quot;barcode&quot;]
</code></p>

<aside class="warning">
If you are building a Windows Mobile or Windows CE app with this API, you must set your app_type as "rhoelements" in your build.yml as shown [here](../guide/build_config#other-build-time-settings).
</aside>

<aside class="notice">
Be sure to review the [JavaScript API Usage](/guide/api_js) guide for important information about using this API in JavaScript
</aside>

<aside class="notice">
Be sure to review the [Ruby API Usage](/guide/api_ruby) guide for important information about using this API in Ruby
</aside>
<h2 id='enumerate'>enumerate</h2><pre class="highlight ruby tab-ruby"><code><span class="c1"># get all barcode scanners</span>
<span class="n">scanners</span> <span class="o">=</span> <span class="no">Rho</span><span class="o">::</span><span class="no">Barcode</span><span class="p">.</span><span class="nf">enumerate</span>

<span class="c1"># find scanner by identifier</span>
<span class="n">scanner</span> <span class="o">=</span> <span class="no">Rho</span><span class="o">::</span><span class="no">Barcode</span><span class="p">.</span><span class="nf">enumerate</span><span class="p">.</span><span class="nf">find</span> <span class="p">{</span><span class="o">|</span><span class="n">each</span><span class="o">|</span> <span class="n">each</span><span class="p">.</span><span class="nf">identifier</span> <span class="o">==</span> <span class="n">aString</span><span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// get all barcode scanners</span>
<span class="kd">var</span> <span class="nx">scanners</span> <span class="o">=</span> <span class="nx">Rho</span><span class="p">.</span><span class="nx">Barcode</span><span class="p">.</span><span class="nx">enumerate</span>

<span class="c1">// find scaner by identifier</span>
<span class="kd">var</span> <span class="nx">scanner</span> <span class="o">=</span> <span class="nx">Rho</span><span class="p">.</span><span class="nx">Barcode</span><span class="p">.</span><span class="nx">enumerate</span><span class="p">().</span><span class="nx">find</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">each</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">each</span><span class="p">.</span><span class="nx">identifier</span> <span class="o">==</span> <span class="nx">aString</span><span class="p">;</span>
<span class="p">})</span>
</code></pre>
<p>languages: <code>javascript</code>, <code>ruby</code></p>

<p>platforms: <code>android</code>, <code>ios</code>, <code>windows</code></p>

<p>Used to gain access to all scanner objects present on the device. For consumer devices you will most likely only have a single scanner, your device&#39;s camera but Enterprise grade hardware may have two or more scanners attached.</p>

<p><strong>Parameters</strong></p>

<p>No Parameters</p>
<h2 id='take'>take</h2><pre class="highlight ruby tab-ruby"><code><span class="k">def</span> <span class="nf">scan_using_default_scanner</span>
  <span class="c1"># Scan with default options</span>
  <span class="no">Rho</span><span class="o">::</span><span class="no">Barcode</span><span class="p">.</span><span class="nf">take</span><span class="p">({},</span> <span class="n">url_for</span><span class="p">(</span><span class="ss">:action</span> <span class="o">=&gt;</span> <span class="ss">:scan_received</span><span class="p">))</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">scan_received</span>
  <span class="c1"># Did we actually find a barcode ?</span>
  <span class="c1"># If status is not 'ok', the scan was canceled</span>
  <span class="k">if</span> <span class="vi">@params</span><span class="p">[</span><span class="s2">"status"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"ok"</span>
    <span class="no">Rho</span><span class="o">::</span><span class="no">Log</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="vi">@params</span><span class="p">[</span><span class="s2">"barcode"</span><span class="p">],</span><span class="s2">"Barcode result"</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="no">Rho</span><span class="o">::</span><span class="no">Log</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="s2">"canceled"</span><span class="p">,</span> <span class="s2">"Barcode result"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">scanUsingDefaultScanner</span><span class="p">(){</span>
  <span class="c1">// Scan with default options</span>
  <span class="nx">Rho</span><span class="p">.</span><span class="nx">Barcode</span><span class="p">.</span><span class="nx">take</span><span class="p">({},</span> <span class="nx">scanCallback</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">scanCallback</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
  <span class="c1">// Did we actually find a barcode ?</span>
  <span class="c1">// If status is not 'ok', the scan was canceled</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="s2">"status"</span><span class="p">]</span><span class="o">==</span><span class="s2">"ok"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s1">'Barcode scanning complete. Scanned barcode: '</span><span class="o">+</span><span class="nx">data</span><span class="p">[</span><span class="s2">"barcode"</span><span class="p">]);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s1">'Barcode scanning aborted'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">Rho</span><span class="p">.</span><span class="nx">Barcode</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>The above command returns to callback JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"barcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>languages: <code>javascript</code>, <code>ruby</code></p>

<p>platforms: <code>android</code>, <code>ios</code>, <code>windows</code></p>

<p>Enable the scanner and start capturing the barcode automatically. On Symbol Technologies&#39; devices the amount of time to scan the barcode is defined by the scanTimeout property. On iPhone and Android if a barcode is found, the user can confirm barcode recognition, or continue to try to recognize the barcode. When the user confirms or cancels, the callback is called. Once the callback has been called the barcode hardware is disabled.This method will work only on scanners which support soft scan.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
